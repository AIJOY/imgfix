"use strict";!function(i){function a(a){var t=i(i(a).parents(".imgfix_wrapper_layer")[0]),r=i(t.parents(".imgfix_top_container")[0]),f=i(a).width(),o=i(a).height(),s=t.width(),l=t.height(),d=s/f,n=f*d,c=o*d;r.data("fix-fixin")?c>l&&(d=l/o,n=f*d,c=o*d):l>c&&(d=l/o,n=f*d,c=o*d);var p=t[0].id;i("#imgfix_img_style_for_"+p).remove(),i("head").append('<style id="imgfix_img_style_for_'+p+'">#'+p+" .imgfix_src_img{left: -999999px;right: -999999px;top: -999999px;bottom: -999999px;z-index: 0;width: "+parseInt(n+1)+"px;height: "+parseInt(c+1)+"px;position: absolute;margin: auto;-webkit-transition: all "+parseInt(r.data("fix-interval"))/1e3+"s "+r.data("fix-easing")+" ;transition: all "+parseInt(r.data("fix-interval"))/1e3+"s "+r.data("fix-easing")+";-webkit-transform: scale("+r.data("fix-defaultscale")+");-ms-transform: scale("+r.data("fix-defaultscale")+");transform: scale("+r.data("fix-defaultscale")+");}#"+p+":hover .imgfix_src_img{-webkit-transform: scale("+r.data("fix-scale")+");-ms-transform: scale("+r.data("fix-scale")+");transform: scale("+r.data("fix-scale")+");}</style>"),e(a)}function e(a){setTimeout(function(){i(a).css({opacity:i(a).data("fix-img-default-opacity")})},1)}function t(a,e){i("#imgfix_cover_slide_for_"+e).remove();var t=i(a).parents(".imgfix_top_container")[0];i(t).off();var f=a.data("slide");switch(r(a),f){case"in-up":case"in-right":case"in-down":case"in-left":case"out-up":case"out-right":case"out-down":case"out-left":a.addClass("imgfix-"+f);break;case"dynamic":a.addClass("imgfix-in-up"),i(t).on("mouseenter",a,function(a){var e=a.data.parents(".imgfix_wrapper_layer")[0].id.split("_")[3],t=i(s.family[e].element);i(this).find(".imgfix_cover_wrapper").removeClass("imgfix-in-up-right"),i(this).find(".imgfix_cover_wrapper").removeClass("imgfix-in-up-left"),i(this).find(".imgfix_cover_wrapper").removeClass("imgfix-in-down-right"),i(this).find(".imgfix_cover_wrapper").removeClass("imgfix-in-down-left");for(var f=0;f<t.length;f++){var o=t[f];if(o!=this){var l="";i(o).offset().top>i(this).offset().top?l="down":i(o).offset().top<i(this).offset().top?l="up":i(o).offset().left<i(this).offset().left?l="right":i(o).offset().left>i(this).offset().left&&(l="left"),i(o).offset().top<i(this).offset().top&&i(o).offset().left<i(this).offset().left?l="down-right":i(o).offset().top>i(this).offset().top&&i(o).offset().left<i(this).offset().left&&(l="up-right"),i(o).offset().top<i(this).offset().top&&i(o).offset().left>i(this).offset().left?l="down-left":i(o).offset().top>i(this).offset().top&&i(o).offset().left>i(this).offset().left&&(l="up-left"),i(o).find(".imgfix_cover_wrapper").addClass("imgfix-in-"+l),r(i(o).find(".imgfix_cover_wrapper"),"imgfix-in-"+l)}}}),i(t).on("mouseleave",a,function(a){var e=a.data.parents(".imgfix_wrapper_layer")[0].id.split("_")[3],t=i(s.family[e].element);if(!t.find(":hover").length){var f=void 0==a.offsetX?a.pageX-i(this).offset().left:a.offsetX,o=void 0==a.offsetY?a.pageY-i(this).offset().top:a.offsetY,l="";l=o<.1*a.data.height()?"down":o>.9*a.data.height()?"up":f<.1*a.data.width()?"left":"right",a.data.addClass("imgfix-in-"+l),r(a.data,"imgfix-in-"+l)}});break;default:return}i("head").append('<style id="imgfix_cover_slide_for_'+e+'">#'+e+" .imgfix_cover_wrapper.imgfix-in-up{left: 0;top: 100%;visibility: hidden;}#"+e+" .imgfix_cover_wrapper.imgfix-in-right{left: 100%;top: 0;visibility: hidden;}#"+e+" .imgfix_cover_wrapper.imgfix-in-down{left: 0;top: -100%;visibility: hidden;}#"+e+" .imgfix_cover_wrapper.imgfix-in-left{left: -100%;top: 0;visibility: hidden;}#"+e+" .imgfix_cover_wrapper.imgfix-in-up-left{left: -100%;top: -100%;visibility: hidden;}#"+e+" .imgfix_cover_wrapper.imgfix-in-up-right{left: 100%;top: -100%;visibility: hidden;}#"+e+" .imgfix_cover_wrapper.imgfix-in-down-left{left: -100%;top: 100%;visibility: hidden;}#"+e+" .imgfix_cover_wrapper.imgfix-in-down-right{left: 100%;top: 100%;visibility: hidden;}#"+e+":hover .imgfix_cover_wrapper.imgfix-in-up, #"+e+":hover .imgfix_cover_wrapper.imgfix-in-right, #"+e+":hover .imgfix_cover_wrapper.imgfix-in-down, #"+e+":hover .imgfix_cover_wrapper.imgfix-in-left{left: 0;top: 0;visibility: visible;}#"+e+":hover .imgfix_cover_wrapper.imgfix-out-up{left: 0;top: -100%;}#"+e+":hover .imgfix_cover_wrapper.imgfix-out-right{left: 100%;top: 0;}#"+e+":hover .imgfix_cover_wrapper.imgfix-out-down{left: 0;top: 100%;}#"+e+":hover .imgfix_cover_wrapper.imgfix-out-left{left: -100%;top: 0;}#"+e+" .imgfix_cover_wrapper.imgfix-out-up, #"+e+" .imgfix_cover_wrapper.imgfix-out-right, #"+e+" .imgfix_cover_wrapper.imgfix-out-down, #"+e+" .imgfix_cover_wrapper.imgfix-out-left{left: 0;top: 0;}</style>")}function r(i,a){"imgfix-in-up"!=a&&i.removeClass("imgfix-in-up"),"imgfix-in-right"!=a&&i.removeClass("imgfix-in-right"),"imgfix-in-down"!=a&&i.removeClass("imgfix-in-down"),"imgfix-in-left"!=a&&i.removeClass("imgfix-in-left"),"imgfix-in-up-left"!=a&&i.removeClass("imgfix-in-up-left"),"imgfix-in-up-right"!=a&&i.removeClass("imgfix-in-up-right"),"imgfix-in-down-left"!=a&&i.removeClass("imgfix-in-down-left"),"imgfix-in-down-right"!=a&&i.removeClass("imgfix-in-down-right"),i.removeClass("imgfix-out-up"),i.removeClass("imgfix-out-right"),i.removeClass("imgfix-out-down"),i.removeClass("imgfix-out-left")}function f(a,e){i("#imgfix_cover_fade_for_"+e).remove();var t=a.data("fade"),r=new Object;switch(t){case"in":r={from:{opacity:0},to:{opacity:1}};break;case"out":r={from:{opacity:1},to:{opacity:0}};break;default:return}i("head").append('<style id="imgfix_cover_fade_for_'+e+'">#'+e+" .imgfix_cover_wrapper{opacity: "+r.from.opacity+';-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*r.from.opacity+')";filter: alpha(opacity='+100*r.from.opacity+");}#"+e+":hover .imgfix_cover_wrapper{opacity: "+r.to.opacity+';-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*r.to.opacity+')";filter: alpha(opacity='+100*r.to.opacity+");}</style>")}function o(a,e){i("#imgfix_cover_scale_for_"+e).remove();var t=a.data("scale"),r=new Object;switch(t){case"in":r={from:{scale:0},to:{scale:1}};break;case"out":r={from:{scale:1},to:{scale:0}};break;default:return}i("head").append('<style id="imgfix_cover_scale_for_'+e+'">#'+e+" .imgfix_cover_wrapper{-webkit-transform: scale("+r.from.scale+");-ms-transform: scale("+r.from.scale+");transform: scale("+r.from.scale+");}#"+e+":hover .imgfix_cover_wrapper{-webkit-transform: scale("+r.to.scale+");-ms-transform: scale("+r.to.scale+");transform: scale("+r.to.scale+");}</style>")}var s={family:new Array,init:function(e,r){var s=e.parameters?e.parameters:new Object,l=e.element;s.cover||(s.cover={}),s={fixin:s.fixin?1:0,scale:s.scale?s.scale:1,easing:s.easing?s.easing:"",defaultscale:s.defaultscale||s.defaultScale?s.defaultscale||s.defaultScale:1,width:s.width?s.width:null,height:s.height?s.height:null,protectaspectratio:s.protectaspectratio||s.protectAspectRatio?s.protectaspectratio||s.protectAspectRatio:null,coverclass:s.coverclass||s.coverClass?s.coverclass||s.coverClass:"",cover:{fade:s.cover.fade?s.cover.fade:"none",slide:s.cover.slide?s.cover.slide:"none",scale:s.cover.scale?s.cover.scale:"none",easing:s.cover.easing?s.cover.easing:"",delay:s.cover.delay?s.cover.delay:0,interval:s.cover.interval?s.cover.interval:400}},s.interval=s.interval?s.interval:1==s.scale?0:400,e.parameters=s,l.css("overflow","hidden");for(var d=0;d<l.length;d++){var n=i(l[d]);n.addClass("imgfix_top_container");var c=n.find("#imgfix_wrapper_layer_"+e.id+"_"+d).length?0:1;if(r)null==n.data("fix-img")&&n.data("fix-img",""),n.data("fix-fixin",s.fixin?s.fixin:n.data("fix-fixin")),n.data("fix-defaultscale",s.defaultscale?s.defaultscale:n.data("fix-defaultscale")),n.data("fix-scale",(s.scale?s.scale:n.data("fix-scale"))*n.data("fix-defaultscale")),n.data("fix-interval",s.interval?s.interval:n.data("fix-interval")),n.data("fix-width",s.width?s.width:n.data("fix-width")),n.data("fix-height",s.height?s.height:n.data("fix-height")),n.data("fix-protect-aspect-ratio",s.protectaspectratio?s.protectaspectratio:n.data("fix-protect-aspect-ratio")),n.data("fix-easing",s.easing?s.easing:n.data("fix-easing")),n.data("fix-cover",s.coverclass?s.coverclass:n.data("fix-cover")),n.data("fix-cover-fade",s.cover.fade?s.cover.fade:n.data("fix-cover-fade")),n.data("fix-cover-slide",s.cover.slide?s.cover.slide:n.data("fix-cover-slide")),n.data("fix-cover-scale",s.cover.scale?s.cover.scale:n.data("fix-cover-scale")),n.data("fix-cover-easing",s.cover.easing?s.cover.easing:n.data("fix-cover-easing")),n.data("fix-cover-delay",s.cover.delay?s.cover.delay:n.data("fix-cover-delay")),n.data("fix-cover-interval",s.cover.interval?s.cover.interval:n.data("fix-cover-interval"));else{if(null==n.data("fix-img")&&n.data("fix-img",""),n.data("fix-fixin",null==n.data("fix-fixin")?s.fixin:n.data("fix-fixin")),n.data("fix-defaultscale",null==n.data("fix-defaultscale")?s.defaultscale:n.data("fix-defaultscale")),n.data("fix-scale",(null==n.data("fix-scale")?s.scale:n.data("fix-scale"))*n.data("fix-defaultscale")),n.data("fix-interval",null==n.data("fix-interval")?s.interval:n.data("fix-interval")),n.data("fix-width",null==n.data("fix-width")?s.width:n.data("fix-width")),n.data("fix-height",null==n.data("fix-height")?s.height:n.data("fix-height")),n.data("fix-protect-aspect-ratio",null==n.data("fix-protect-aspect-ratio")?s.protectaspectratio:n.data("fix-protect-aspect-ratio")),n.data("fix-easing",null==n.data("fix-easing")?s.easing:n.data("fix-easing")),n.data("fix-cover",null==n.data("fix-cover")?s.coverclass:n.data("fix-cover")),n.data("fix-cover-fade",null==n.data("fix-cover-fade")?s.cover.fade:n.data("fix-cover-fade")),n.data("fix-cover-slide",null==n.data("fix-cover-slide")?s.cover.slide:n.data("fix-cover-slide")),n.data("fix-cover-scale",null==n.data("fix-cover-scale")?s.cover.scale:n.data("fix-cover-scale")),n.data("fix-cover-easing",null==n.data("fix-cover-easing")?s.cover.easing:n.data("fix-cover-easing")),n.data("fix-cover-delay",null==n.data("fix-cover-delay")?s.cover.delay:n.data("fix-cover-delay")),n.data("fix-cover-interval",null==n.data("fix-cover-interval")?s.cover.interval:n.data("fix-cover-interval")),n.data("fix-width")&&n.width(n.data("fix-width")),n.data("fix-height")){var p=n.data("fix-height");p.split("%").length>1&&(p=parseFloat(p.split("%")[0]),p=p?n.width()*p/100:0),n.height(p)}if(n.data("fix-protect-aspect-ratio"))if(n.data("fix-aspect-ratio"))n.height(n.width()*n.data("fix-aspect-ratio"));else{var p=n.height(),x=n.width(),v=x?p/x:0;n.data("fix-aspect-ratio",v)}}if("static"==n.css("position")&&n.css("position","relative"),c){0==n.find("img").length?n.append('<img class="imgfix_src_img" src="'+n.data("fix-img")+'" />'):i(n.find("img")[0]).addClass("imgfix_src_img");for(var g=n.find("img"),m=0;m<g.length;m++)i(g[m]).data("fix-img-default-opacity",i(g[m]).css("opacity"));n.find("img").css("opacity",0)}if(c&&n.wrapInner('<div id="imgfix_wrapper_layer_'+e.id+"_"+d+'" class="imgfix_wrapper_layer" style="position: relative; padding: 0; margin: 0; width: 100%; height: 100%; overflow: hidden;"></div>'),a(i("#imgfix_wrapper_layer_"+e.id+"_"+d+" .imgfix_src_img")[0]),c&&i("#imgfix_wrapper_layer_"+e.id+"_"+d+" .imgfix_src_img").load(function(){a(this)}),n.data("fix-cover")){var h;h=n.data("fix-cover").split(".").length>1||n.data("fix-cover").split("#").length>1?n.data("fix-cover"):"."+n.data("fix-cover"),c&&n.find(h).wrap('<div class="imgfix_cover_wrapper"></div>');var _=n.find(".imgfix_cover_wrapper");_.css({width:i(n.find(".imgfix_wrapper_layer")[0]).width()+"px",height:i(n.find(".imgfix_wrapper_layer")[0]).height()+"px"}),_.data("slide",n.data("fix-cover-slide")),_.data("fade",n.data("fix-cover-fade")),_.data("scale",n.data("fix-cover-scale")),_.data("easing",n.data("fix-cover-easing")),_.data("delay",n.data("fix-cover-delay")),_.data("interval",n.data("fix-cover-interval"));var w=_.parents(".imgfix_wrapper_layer")[0].id;i("#imgfix_cover_transitions_for_"+w).remove(),"none"!=_.data("slide")||"none"!=_.data("fade")||"none"!=_.data("scale")?(i("head").append('<style id="imgfix_cover_transitions_for_'+w+'">#'+w+" .imgfix_cover_wrapper{position: absolute; z-index: 1;-webkit-transition: all "+parseInt(_.data("interval"))/1e3+"s "+_.data("easing")+" "+parseInt(_.data("delay"))/1e3+"s;transition: all "+parseInt(_.data("interval"))/1e3+"s "+_.data("easing")+" "+parseInt(_.data("delay"))/1e3+"s;}</style>"),t(_,w),f(_,w),o(_,w)):i("head").append('<style id="imgfix_cover_transitions_for_'+w+'">#'+w+" .imgfix_cover_wrapper{position: absolute; z-index: 1;}</style>")}}}};i.fn.imgfix=function(a){for(var e=-1,t=!1,r=0;r<s.family.length;r++){var f=!0;for(var o in this)this[o]!=s.family[r].element[o]&&(f=!1);if(f){e=r,t=!0;break}}0>e&&(s.family.push(new Object),e=s.family.length-1),s.family[e]={id:e,element:this,parameters:a},s.init(s.family[e],t),i(window).resize(function(){s.init(s.family[e])})},i.fn.imgfixRefresh=function(){for(var a=i(this).find(".imgfix_wrapper_layer"),e=new Array,t=0;t<a.length;t++){var r=a[t].id.split("_")[3];e[r]=!0}for(var f in e)s.init(s.family[f])}}(jQuery);
//# sourceMappingURL=imgfix.min.js.map