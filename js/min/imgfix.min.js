"use strict";!function(i){function e(e){var t=i(i(e).parents(".imgfix_wrapper_layer")[0]),r=i(t.parents(".imgfix_top_container")[0]),f=i(e).width(),o=i(e).height(),s=t.width(),l=t.height(),n=s/f,d=f*n,c=o*n;r.data("fix-fixin")?c>l&&(n=l/o,d=f*n,c=o*n):l>c&&(n=l/o,d=f*n,c=o*n);var v=t[0].id;i("#imgfix_img_style_for_"+v).remove(),i("head").append('<style id="imgfix_img_style_for_'+v+'">#'+v+" .imgfix_src_img{left: -999999px;right: -999999px;top: -999999px;bottom: -999999px;z-index: 0;width: "+parseInt(d+1)+"px;height: "+parseInt(c+1)+"px;position: absolute;margin: auto;-webkit-transition: all "+parseInt(r.data("fix-interval"))/1e3+"s "+r.data("fix-easing")+" ;transition: all "+parseInt(r.data("fix-interval"))/1e3+"s "+r.data("fix-easing")+";-webkit-transform: scale("+r.data("fix-defaultscale")+");-ms-transform: scale("+r.data("fix-defaultscale")+");transform: scale("+r.data("fix-defaultscale")+");}#"+v+":hover .imgfix_src_img{-webkit-transform: scale("+r.data("fix-hover")+");-ms-transform: scale("+r.data("fix-hover")+");transform: scale("+r.data("fix-hover")+");}</style>"),a(e)}function a(e){setTimeout(function(){i(e).css({opacity:i(e).data("fix-img-default-opacity")})},1)}function t(e,a){i("#imgfix_cover_slide_for_"+a).remove();var t=i(e).parents(".imgfix_top_container")[0];i(t).off();var f=e.data("slide");switch(r(e),f){case"in-up":case"in-right":case"in-down":case"in-left":case"out-up":case"out-right":case"out-down":case"out-left":e.addClass("imgfix-"+f);break;case"dynamic":e.addClass("imgfix-in-up"),i(t).on("mouseenter",e,function(e){var a=e.data.parents(".imgfix_wrapper_layer")[0].id.split("_")[3],t=i(s.family[a].element);i(this).find(".imgfix_cover_wrapper").removeClass("imgfix-in-up-right"),i(this).find(".imgfix_cover_wrapper").removeClass("imgfix-in-up-left"),i(this).find(".imgfix_cover_wrapper").removeClass("imgfix-in-down-right"),i(this).find(".imgfix_cover_wrapper").removeClass("imgfix-in-down-left");for(var f=0;f<t.length;f++){var o=t[f];if(o!=this){var l="";i(o).offset().top>i(this).offset().top?l="down":i(o).offset().top<i(this).offset().top?l="up":i(o).offset().left<i(this).offset().left?l="right":i(o).offset().left>i(this).offset().left&&(l="left"),i(o).offset().top<i(this).offset().top&&i(o).offset().left<i(this).offset().left?l="down-right":i(o).offset().top>i(this).offset().top&&i(o).offset().left<i(this).offset().left&&(l="up-right"),i(o).offset().top<i(this).offset().top&&i(o).offset().left>i(this).offset().left?l="down-left":i(o).offset().top>i(this).offset().top&&i(o).offset().left>i(this).offset().left&&(l="up-left"),i(o).find(".imgfix_cover_wrapper").addClass("imgfix-in-"+l),r(i(o).find(".imgfix_cover_wrapper"),"imgfix-in-"+l)}}}),i(t).on("mouseleave",e,function(e){var a=e.data.parents(".imgfix_wrapper_layer")[0].id.split("_")[3],t=i(s.family[a].element);if(!t.find(":hover").length){var f=void 0==e.offsetX?e.pageX-i(this).offset().left:e.offsetX,o=void 0==e.offsetY?e.pageY-i(this).offset().top:e.offsetY,l="";l=o<.1*e.data.height()?"down":o>.9*e.data.height()?"up":f<.1*e.data.width()?"left":"right",e.data.addClass("imgfix-in-"+l),r(e.data,"imgfix-in-"+l)}});break;default:return}i("head").append('<style id="imgfix_cover_slide_for_'+a+'">#'+a+" .imgfix_cover_wrapper.imgfix-in-up{left: 0;top: 100%;visibility: hidden;}#"+a+" .imgfix_cover_wrapper.imgfix-in-right{left: 100%;top: 0;visibility: hidden;}#"+a+" .imgfix_cover_wrapper.imgfix-in-down{left: 0;top: -100%;visibility: hidden;}#"+a+" .imgfix_cover_wrapper.imgfix-in-left{left: -100%;top: 0;visibility: hidden;}#"+a+" .imgfix_cover_wrapper.imgfix-in-up-left{left: -100%;top: -100%;visibility: hidden;}#"+a+" .imgfix_cover_wrapper.imgfix-in-up-right{left: 100%;top: -100%;visibility: hidden;}#"+a+" .imgfix_cover_wrapper.imgfix-in-down-left{left: -100%;top: 100%;visibility: hidden;}#"+a+" .imgfix_cover_wrapper.imgfix-in-down-right{left: 100%;top: 100%;visibility: hidden;}#"+a+":hover .imgfix_cover_wrapper.imgfix-in-up, #"+a+":hover .imgfix_cover_wrapper.imgfix-in-right, #"+a+":hover .imgfix_cover_wrapper.imgfix-in-down, #"+a+":hover .imgfix_cover_wrapper.imgfix-in-left{left: 0;top: 0;visibility: visible;}#"+a+":hover .imgfix_cover_wrapper.imgfix-out-up{left: 0;top: -100%;}#"+a+":hover .imgfix_cover_wrapper.imgfix-out-right{left: 100%;top: 0;}#"+a+":hover .imgfix_cover_wrapper.imgfix-out-down{left: 0;top: 100%;}#"+a+":hover .imgfix_cover_wrapper.imgfix-out-left{left: -100%;top: 0;}#"+a+" .imgfix_cover_wrapper.imgfix-out-up, #"+a+" .imgfix_cover_wrapper.imgfix-out-right, #"+a+" .imgfix_cover_wrapper.imgfix-out-down, #"+a+" .imgfix_cover_wrapper.imgfix-out-left{left: 0;top: 0;}</style>")}function r(i,e){"imgfix-in-up"!=e&&i.removeClass("imgfix-in-up"),"imgfix-in-right"!=e&&i.removeClass("imgfix-in-right"),"imgfix-in-down"!=e&&i.removeClass("imgfix-in-down"),"imgfix-in-left"!=e&&i.removeClass("imgfix-in-left"),"imgfix-in-up-left"!=e&&i.removeClass("imgfix-in-up-left"),"imgfix-in-up-right"!=e&&i.removeClass("imgfix-in-up-right"),"imgfix-in-down-left"!=e&&i.removeClass("imgfix-in-down-left"),"imgfix-in-down-right"!=e&&i.removeClass("imgfix-in-down-right"),i.removeClass("imgfix-out-up"),i.removeClass("imgfix-out-right"),i.removeClass("imgfix-out-down"),i.removeClass("imgfix-out-left")}function f(e,a){i("#imgfix_cover_fade_for_"+a).remove();var t=e.data("fade"),r=new Object;switch(t){case"in":r={from:{opacity:0},to:{opacity:1}};break;case"out":r={from:{opacity:1},to:{opacity:0}};break;default:return}i("head").append('<style id="imgfix_cover_fade_for_'+a+'">#'+a+" .imgfix_cover_wrapper{opacity: "+r.from.opacity+';-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*r.from.opacity+')";filter: alpha(opacity='+100*r.from.opacity+");}#"+a+":hover .imgfix_cover_wrapper{opacity: "+r.to.opacity+';-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*r.to.opacity+')";filter: alpha(opacity='+100*r.to.opacity+");}</style>")}function o(e,a){i("#imgfix_cover_scale_for_"+a).remove();var t=e.data("scale"),r=new Object;switch(t){case"in":r={from:{scale:0},to:{scale:1}};break;case"out":r={from:{scale:1},to:{scale:0}};break;default:return}i("head").append('<style id="imgfix_cover_scale_for_'+a+'">#'+a+" .imgfix_cover_wrapper{-webkit-transform: scale("+r.from.scale+");-ms-transform: scale("+r.from.scale+");transform: scale("+r.from.scale+");}#"+a+":hover .imgfix_cover_wrapper{-webkit-transform: scale("+r.to.scale+");-ms-transform: scale("+r.to.scale+");transform: scale("+r.to.scale+");}</style>")}var s={family:new Array,init:function(a,r){var s=a.parameters?a.parameters:new Object,l=a.element;s.cover||(s.cover={}),s={fixin:s.fixin?1:0,hover:s.hover?s.hover:1,interval:s.interval?s.interval:400,easing:s.easing?s.easing:"",defaultscale:s.defaultscale?s.defaultscale:1,coverclass:s.coverclass?s.coverclass:"",cover:{fade:s.cover.fade?s.cover.fade:"in",slide:s.cover.slide?s.cover.slide:"none",scale:s.cover.scale?s.cover.scale:"none",easing:s.cover.easing?s.cover.easing:"",delay:s.cover.delay?s.cover.delay:0,interval:s.cover.interval?s.cover.interval:400}},a.parameters=s,l.css("overflow","hidden");for(var n=0;n<l.length;n++){var d=i(l[n]);d.addClass("imgfix_top_container");var c=d.find("#imgfix_wrapper_layer_"+a.id+"_"+n).length?0:1;if(r?(null==d.data("fix-img")&&d.data("fix-img",""),d.data("fix-fixin",s.fixin?s.fixin:d.data("fix-fixin")),d.data("fix-defaultscale",s.defaultscale?s.defaultscale:d.data("fix-defaultscale")),d.data("fix-hover",(s.hover?s.hover:d.data("fix-hover"))*d.data("fix-defaultscale")),d.data("fix-interval",s.interval?s.interval:d.data("fix-interval")),d.data("fix-easing",s.easing?s.easing:d.data("fix-easing")),d.data("fix-cover",s.coverclass?s.coverclass:d.data("fix-cover")),d.data("fix-cover-fade",s.cover.fade?s.cover.fade:d.data("fix-cover-fade")),d.data("fix-cover-slide",s.cover.slide?s.cover.slide:d.data("fix-cover-slide")),d.data("fix-cover-scale",s.cover.scale?s.cover.scale:d.data("fix-cover-scale")),d.data("fix-cover-easing",s.cover.easing?s.cover.easing:d.data("fix-cover-easing")),d.data("fix-cover-delay",s.cover.delay?s.cover.delay:d.data("fix-cover-delay")),d.data("fix-cover-interval",s.cover.interval?s.cover.interval:d.data("fix-cover-interval"))):(null==d.data("fix-img")&&d.data("fix-img",""),d.data("fix-fixin",null==d.data("fix-fixin")?s.fixin:d.data("fix-fixin")),d.data("fix-defaultscale",null==d.data("fix-defaultscale")?s.defaultscale:d.data("fix-defaultscale")),d.data("fix-hover",(null==d.data("fix-hover")?s.hover:d.data("fix-hover"))*d.data("fix-defaultscale")),d.data("fix-interval",null==d.data("fix-interval")?s.interval:d.data("fix-interval")),d.data("fix-easing",null==d.data("fix-easing")?s.easing:d.data("fix-easing")),d.data("fix-cover",null==d.data("fix-cover")?s.coverclass:d.data("fix-cover")),d.data("fix-cover-fade",null==d.data("fix-cover-fade")?s.cover.fade:d.data("fix-cover-fade")),d.data("fix-cover-slide",null==d.data("fix-cover-slide")?s.cover.slide:d.data("fix-cover-slide")),d.data("fix-cover-scale",null==d.data("fix-cover-scale")?s.cover.scale:d.data("fix-cover-scale")),d.data("fix-cover-easing",null==d.data("fix-cover-easing")?s.cover.easing:d.data("fix-cover-easing")),d.data("fix-cover-delay",null==d.data("fix-cover-delay")?s.cover.delay:d.data("fix-cover-delay")),d.data("fix-cover-interval",null==d.data("fix-cover-interval")?s.cover.interval:d.data("fix-cover-interval"))),"static"==d.css("position")&&d.css("position","relative"),c){0==d.find("img").length?d.append('<img class="imgfix_src_img" src="'+d.data("fix-img")+'" />'):i(d.find("img")[0]).addClass("imgfix_src_img");for(var v=d.find("img"),x=0;x<v.length;x++)i(v[x]).data("fix-img-default-opacity",i(v[x]).css("opacity"));d.find("img").css("opacity",0)}if(c&&d.wrapInner('<div id="imgfix_wrapper_layer_'+a.id+"_"+n+'" class="imgfix_wrapper_layer" style="position: relative; padding: 0; margin: 0; width: 100%; height: 100%; overflow: hidden;"></div>'),c?i("#imgfix_wrapper_layer_"+a.id+"_"+n+" .imgfix_src_img").load(function(){e(this)}):e(i("#imgfix_wrapper_layer_"+a.id+"_"+n+" .imgfix_src_img")[0]),d.data("fix-cover")){var p;p=d.data("fix-cover").split(".").length>1||d.data("fix-cover").split("#").length>1?d.data("fix-cover"):"."+d.data("fix-cover"),c&&d.find(p).wrap('<div class="imgfix_cover_wrapper"></div>');var m=d.find(".imgfix_cover_wrapper");m.css({width:i(d.find(".imgfix_wrapper_layer")[0]).width()+"px",height:i(d.find(".imgfix_wrapper_layer")[0]).height()+"px"}),m.data("slide",d.data("fix-cover-slide")),m.data("fade",d.data("fix-cover-fade")),m.data("scale",d.data("fix-cover-scale")),m.data("easing",d.data("fix-cover-easing")),m.data("delay",d.data("fix-cover-delay")),m.data("interval",d.data("fix-cover-interval"));var g=m.parents(".imgfix_wrapper_layer")[0].id;i("#imgfix_cover_transitions_for_"+g).remove(),"none"!=m.data("slide")||"none"!=m.data("fade")||"none"!=m.data("scale")?(i("head").append('<style id="imgfix_cover_transitions_for_'+g+'">#'+g+" .imgfix_cover_wrapper{position: absolute; z-index: 1;-webkit-transition: all "+parseInt(m.data("interval"))/1e3+"s "+m.data("easing")+" "+parseInt(m.data("delay"))/1e3+"s;transition: all "+parseInt(m.data("interval"))/1e3+"s "+m.data("easing")+" "+parseInt(m.data("delay"))/1e3+"s;}</style>"),t(m,g),f(m,g),o(m,g)):i("head").append('<style id="imgfix_cover_transitions_for_'+g+'">#'+g+" .imgfix_cover_wrapper{position: absolute; z-index: 1;}</style>")}}}};i.fn.imgfix=function(e){for(var a=-1,t=!1,r=0;r<s.family.length;r++){var f=!0;for(var o in this)this[o]!=s.family[r].element[o]&&(f=!1);if(f){a=r,t=!0;break}}0>a&&(s.family.push(new Object),a=s.family.length-1),s.family[a]={id:a,element:this,parameters:e},s.init(s.family[a],t),i(window).resize(function(){s.init(s.family[a])})},i.fn.imgfixRefresh=function(){for(var e=i(this).find(".imgfix_wrapper_layer"),a=new Array,t=0;t<e.length;t++){var r=e[t].id.split("_")[3];a[r]=!0}for(var f in a)s.init(s.family[f])}}(jQuery);
//# sourceMappingURL=imgfix.min.js.map